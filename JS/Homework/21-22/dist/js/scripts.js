"use strict";window.onload=function(){var e=_.template($("#test").html()),t=document.createElement("div");t.innerHTML=e(testData);var r=document.getElementById("container");r.appendChild(t);var n=testData.questions.length,s=(testData.numberOfCorrectAnswers(),testData.questions[0].answers.length),a=testData.correctAnswers(),o=r.getElementsByClassName("check")[0],c=r.getElementsByClassName("show")[0];o.addEventListener("click",function(){$(".modalOverlay")&&$(".modalOverlay").remove();for(var e=[],t=1;t<=n;t++){for(var a=new Array(s),o=0;o<a.length;o++)a[o]=0;for(var c=r.getElementsByClassName(t),l=0;l<c.length;l++)for(var i=c[l].getElementsByTagName("input"),h=0;h<i.length;h++)i[h].checked?a[h]=1:a[h]=0;e.push(a)}var v=d(e);v<70?u(!1,v):u(!0,v),$("a.close").on("click",function(){$(".modalOverlay").remove(),$("input:checked").prop("checked",!1),$("label.checked").removeClass("checked")})}),c.addEventListener("click",function(){for(var e=0;e<n;e++)for(var t=$("ul."+(e+1)),r=0;r<s;r++){var o=t.find("label:eq("+r+")");1===a[e][r]?o.css({color:"#0864ef",fontWeight:"bold"}):o.css({color:"default"})}});for(var l=r.getElementsByTagName("label"),i=0;i<l.length;i++)l[i].addEventListener("click",function(){this.className="checked"}),l[i].addEventListener("mouseover",function(){this.style.color="#0864ef",this.style.fontWeight="700"}),l[i].addEventListener("mouseleave",function(){this.style.color="#000",this.style.fontWeight="400"});var d=function(e){for(var t=e,r=0,s=void 0,o=100/n,c=0;c<a.length;c++){for(var l=0;l<a[c].length;l++){if(a[c][l]!==t[c][l]){s=!1;break}s=!0}!!s&&(r+=o)}return Math.round(r)},u=function(e,t){$("#container").prepend("<div class='modalOverlay'><div class='modal'><a href='#' class='close'>X</a><h2 class='resultTitle'></h2><p class='result'></p> </div></div>"),$(".resultTitle").append(e?"Отлично!":"Ошибка."),$(".result").prepend("Ты набрал "+t+" баллов из 100")}};var testData={name:"ТЕСТ",questions:[{index:1,text:"Вопрос #1",answers:["Ответ #1","Ответ #2","Ответ #3","Ответ #4"],correct:[1,0,1,1]},{index:2,text:"Вопрос #2",answers:["Ответ #1","Ответ #2","Ответ #3","Ответ #4"],correct:[0,1,1,0]},{index:3,text:"Вопрос #3",answers:["Ответ #1","Ответ #2","Ответ #3","Ответ #4"],correct:[1,1,0,0]},{index:4,text:"Вопрос #4",answers:["Ответ #1","Ответ #2","Ответ #3","Ответ #4"],correct:[1,0,1,0]},{index:5,text:"Вопрос #5",answers:["Ответ #1","Ответ #2","Ответ #3","Ответ #4"],correct:[0,0,0,1]}],numberOfCorrectAnswers:function(){var e=0;return this.questions.forEach(function(t){t.correct.forEach(function(t){1===t&&(e+=1)})}),e},correctAnswers:function(){for(var e=[],t=0;t<this.questions.length;t++)e.push(this.questions[t].correct);return e}};module.exports=testData;